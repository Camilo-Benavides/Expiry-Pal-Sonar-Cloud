@import url('https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,700,0,0&display=swap');

/*
  Theme tokens only.

  This file contains CSS variables and minimal base styles for runtime
  theming. Most component styles are expressed via Tailwind utilities and
  design tokens in `tailwind.config.js`.
*/

/* Design tokens (kept for runtime overrides) */
:root{
  --md-sys-color-primary:#006A69;
  --md-sys-color-on-primary:#FFFFFF;
  --md-sys-color-primary-container:#9CF1EF;
  --md-sys-color-on-primary-container:#00504F;

  --md-sys-color-surface:#F5FAFC;
  --md-sys-color-background:#F4FBFA;
  --md-sys-color-on-surface:#171C1E;

  --md-sys-color-outline-variant:#BEC9C8;
}

/* Additional design tokens mirrored from md3.css so variables used by components exist */
:root{
  /* Shape */
  --radius-control: 12px;
  --radius-card: 16px;
  --radius-logo: 8px;

  /* Elevation */
  --shadow-1: 0 1px 2px rgba(0,0,0,.08), 0 1px 3px rgba(0,0,0,.06);
  --shadow-2: 0 2px 8px rgba(0,0,0,.10);

  /* Sizing */
  --control-height: 40px;
  --control-pad-x: 14px;
  --textfield-pad-x: 12px;
  --textfield-pad-y: 10px;

  /* Type */
  --font-sans: system-ui, -apple-system, "Segoe UI", Roboto, Inter, Arial, sans-serif;
  --text-label: .85rem;
  --text-body: .95rem;
  --text-title: 1.6rem;

  /* Surface variants */
  --md-sys-color-surface-variant: #DAE5E4;
  --md-sys-color-on-surface-variant: #3F4948;

  /* Badge colors (vivid / highly noticeable) */
  --badge-fresh-bg: #10B981;      /* vivid green */
  --badge-fresh-color: #FFFFFF;

  --badge-soon-bg: #F59E0B;       /* vivid amber/yellow */
  --badge-soon-color: #000000;

  --badge-danger-bg: #EF4444;     /* vivid red */
  --badge-danger-color: #FFFFFF;

  --badge-neutral-bg: #E6EEF0;    /* pale neutral */
  --badge-neutral-color: #064E3B;
  /* Filter / chip selected color (darker blue) */
  --filter-selected-bg: #2563EB; /* indigo-600 */
  --filter-selected-color: #FFFFFF;
}

@layer base {
  html,body{ height:100%; margin:0; padding:0 }
  body{ background:var(--md-sys-color-background); color:var(--md-sys-color-on-surface); }
}

/* Small animation utility used by splash */
@layer utilities {
  .animate-fadeInUp { animation: fadeInUp .45s ease-out forwards; transform: translateY(6px); opacity: 0 }
}

@keyframes fadeInUp { to { opacity: 1; transform: translateY(0) } }

/* Small set of component classes ported from md3.css (keeps CSS tiny) */
@layer components {
  .container{ max-width:420px; margin-left:auto; margin-right:auto; padding:16px }
  .page{ display:grid; gap:20px }

  .card{
    background-color: var(--md-sys-color-surface) !important;
    background: var(--md-sys-color-surface) !important;
    background-image: none !important;
    background-clip: padding-box;
    -webkit-backdrop-filter: none !important;
    backdrop-filter: none !important;
    opacity: 1 !important;
    border:1px solid var(--md-sys-color-outline-variant);
    border-radius:var(--radius-card);
    box-shadow:var(--shadow-2);
    padding:24px 16px;
  }

  .h1{ font-size:var(--text-title); margin:0 0 4px; font-weight:700 }
  .p{ margin:0; color:var(--md-sys-color-on-surface-variant) }
  .small{ font-size:.82rem; color:#64748b; text-align:center; margin-top:12px }

  .field{ display:flex; flex-direction:column; gap:6px }
  .label{ font-size:var(--text-label); color:var(--md-sys-color-on-surface-variant); font-weight:600 }

  .textfield{
    display:flex; align-items:center; gap:8px;
    background:var(--md-sys-color-surface);
    border-radius:var(--radius-control);
    padding:var(--textfield-pad-y) var(--textfield-pad-x);
    min-height:var(--control-height);
    box-shadow:var(--shadow-1);
    transition:border-color .15s ease, outline-color .15s ease;
  }
  /* When an input inside the wrapper receives focus, emphasize wrapper
     with an outline (input keeps its own border). This avoids showing two
     stacked borders when inputs also draw their own outline/border. */
  .textfield:focus-within{
    outline:2px solid color-mix(in oklab, var(--md-sys-color-primary) 55%, white);
    outline-offset:2px;
  }

  .btn{
    display:inline-flex; align-items:center; justify-content:center; gap:10px;
    height:var(--control-height); padding:0 var(--control-pad-x);
    border-radius:var(--radius-control);
    font-weight:700; font-size:var(--text-body);
    border:1px solid var(--md-sys-color-outline-variant);
    background:var(--md-sys-color-surface);
    color:var(--md-sys-color-on-surface);
    cursor:pointer; box-shadow:var(--shadow-1);
    transition:filter .15s ease, transform .02s ease, background .15s ease;
    white-space:nowrap;
  }
  .btn.primary{ background:var(--md-sys-color-primary); color:var(--md-sys-color-on-primary); border-color:transparent }
  .btn.full{ width:100% }
  .btn.danger{ background:var(--badge-danger-bg); color:var(--badge-danger-color); border-color:transparent }

  .oauth-btn{
    display:flex; align-items:center; justify-content:center; gap:12px;
    width:100%; height:var(--control-height); padding:0 16px;
    border:1px solid #DADCE0; border-radius:var(--radius-control);
    background:var(--md-sys-color-surface); color:#3C4043; cursor:pointer;
    font:500 14px/1.1 var(--font-sans);
  }
  .oauth-btn:hover{ background:#F7F8F8 }

  .sep{ display:flex; align-items:center; gap:10px; color:var(--md-sys-color-on-surface-variant); font-size:.85rem; margin:14px 0 }
  .sep:before,.sep:after{ content:""; height:1px; background:var(--md-sys-color-outline-variant); flex:1 }

  .link{ color:var(--md-sys-color-primary); text-decoration:none; font-weight:600 }

  /* Back link/button used above cards — styled as a compact primary button
     with icon on the left. Background and text color are driven by the
     primary tokens so accessibility overrides apply automatically. */
  .back-button{
    display:inline-flex; align-items:center; gap:10px; padding:8px 16px;
    background: var(--md-sys-color-primary); color: var(--md-sys-color-on-primary);
    text-decoration:none; font-weight:700; font-size:.95rem; border-radius:10px;
    height:var(--control-height); min-height:36px; box-shadow:var(--shadow-1);
    border:1px solid transparent; align-self:flex-start;
    /* ensure content has equal inner spacing left/right */
    box-sizing: border-box;
  }
  .back-button:focus{ outline:2px solid color-mix(in oklab, var(--md-sys-color-primary) 60%, white); outline-offset:3px }
  .back-button .back-icon{ display:inline-grid; place-items:center; width:22px; height:22px; }
  .back-button .back-icon svg{ width:100%; height:100%; display:block; color:var(--md-sys-color-on-primary); }
  .back-button .back-text{ line-height:1; padding-right:6px; padding-left:2px }

  /* Add-fridge card/button style (desktop-friendly, mobile responsive) */
  .add-fridge-card{
    display:flex; align-items:center; justify-content:space-between;
    gap:12px; padding:12px 14px; border-radius:12px;
    background:linear-gradient(90deg, rgba(154,241,239,0.12), rgba(247,251,fb,0.04));
    border:1px dashed var(--md-sys-color-outline-variant);
    cursor:pointer; text-decoration:none; color:inherit;
  }
  .add-fridge-left{ display:flex; align-items:center; gap:12px }
  .add-fridge-icon{
    width:44px; height:44px; border-radius:10px;
    /* solid primary color square with white plus */
    background: var(--md-sys-color-primary);
    display:grid; place-items:center; font-size:22px; color:var(--md-sys-color-on-primary); font-weight:800;
  }
  .add-fridge-title{ font-weight:700 }
  .add-fridge-sub{ font-size:.95rem; color:var(--md-sys-color-on-surface-variant) }
  /* Right-side chevron — make it a larger, rounded icon that contrasts
     with the card. Uses --a11y-chevron-bg/on when available for HC modes. */
  .add-fridge-chevron{
    display:grid; place-items:center;
    width:36px; height:36px; border-radius:10px;
    /* show only the icon glyph — no colored background by default */
    background: transparent;
    color: var(--md-sys-color-on-surface-variant);
    font-size:20px; font-weight:800;
    flex:0 0 auto;
  }

  /* Material Symbols helper class — use the rounded symbol set and make
     the glyph large so it nearly fills the chevron slot */
  .material-symbols-rounded{
    font-family: 'Material Symbols Rounded', sans-serif;
    font-variation-settings: 'FILL' 0, 'wght' 700, 'GRAD' 0, 'opsz' 48;
    font-size:22px; line-height:1; display:inline-block; vertical-align:middle;
  }

  /* Size SVG chevron to fill approx 80% of the chevron area and be crisp */
  .add-fridge-chevron svg{ height:80%; width:auto; display:block }

  /* Generic badge helper using tokens above. Components may still
     set inline variables or pass token names; this gives a consistent
     baseline style for badges across the app. */
  .badge{
    display:inline-block; padding:6px 10px; border-radius:12px;
    font-size:.82rem; font-weight:700; line-height:1; white-space:nowrap;
    border:1px solid rgba(0,0,0,0.06);
  }
  .badge--fresh{ background:var(--badge-fresh-bg); color:var(--badge-fresh-color) }
  .badge--soon{  background:var(--badge-soon-bg);  color:var(--badge-soon-color) }
  .badge--danger{ background:var(--badge-danger-bg); color:var(--badge-danger-color) }
  .badge--neutral{ background:var(--badge-neutral-bg); color:var(--badge-neutral-color) }

  /* Desktop hero/banner layout for Fridge page */
  /* Full-width banner that sits flush to the top of the viewport. It acts as
    a large decorative background; inner content is centered using
    .hero-topbar-inner. Padding-bottom leaves room for overlapping cards. */
  .hero-banner{
    /* full-bleed even when rendered inside a centered container */
    width: 100vw;
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw);
    left: 0; right: 0; top: 0; margin-top: 0;
    background: linear-gradient(180deg, var(--md-sys-color-primary-container), rgba(255,255,255,0));
    color: var(--md-sys-color-on-primary-container);
    /* make banner slightly taller and a bit darker so it reads as a distinct band */
    min-height: 40vh;
    background: linear-gradient(180deg, color-mix(in oklab, var(--md-sys-color-primary-container) 78%, var(--md-sys-color-primary) 22%), rgba(255,255,255,0));
    padding: 0 0 160px; /* leave room under banner for overlap */
    position: relative;
    box-sizing: border-box;
  }
  /* Topbar spans full width but centers inner content. It uses a shadow
     so it visually sits above the banner. The `.hero-topbar-inner` class
     constrains the actual nav content to a centered column. */
  .hero-topbar{ width:100%; box-shadow:0 8px 26px rgba(11,22,28,0.12); background:transparent; padding:12px 0; position:relative; z-index:40 }
  .hero-topbar-inner{ max-width:1200px; margin:0 auto; display:flex; align-items:center; justify-content:space-between; gap:12px; padding:0 16px }
  /* Topbar menu buttons: transparent background so they blend with the banner */
  .hero-topbar .btn{ background:transparent; border:1px solid transparent; box-shadow:none; color:var(--md-sys-color-on-primary-container); }
  .hero-topbar .btn:hover{ filter:brightness(.95) }

  /* Subtle chip selected state for filters (avoid using strong primary) */
  .btn.chip-selected{ background: var(--filter-selected-bg); color: var(--filter-selected-color); border-color: transparent }
  /* Add more vertical spacing above and below the search area so topbar and cards
    have comfortable separation. Increase top spacing so topbar and search are farther apart. */
  .hero-search-wrap{ display:flex; justify-content:center; margin-top:100px; margin-bottom:40px }
  /* Increase hero search width to give more horizontal space on desktop */
  .hero-search{ width:100%; max-width:1100px }

  /* Filters row used under the search bar: compact chips that size to content
    and wrap into multiple rows when necessary. Buttons are bold for clarity. */
  .filters-grid{ display:flex; gap:10px; align-items:center; flex-wrap:wrap }
  @media (max-width:780px){ .filters-grid{ justify-content:flex-start } }

  /* Cards container that sits overlapping the hero banner */
  /* Cards stage: centered, wider (70-80% of viewport), overlapping the
    banner so the banner shows under the cards. Cards themselves stay
    white so the banner background is visible around them. */
  /* cards-stage: match the hero-search width (1100px) so cards align with the searchbar
    and have more room on desktop. It remains responsive via max-width. */
  /* Tweak overlap to reduce the vertical gap between filters and cards slightly
    (not too large). We want a comfortable but not excessive space here. */
  .cards-stage{ width:1100px; max-width:calc(100% - 48px); margin: -60px auto 60px; padding:0; display:grid; gap:28px; z-index:50 }

  /* allow page content to overlap hero on desktop, but keep normal flow on mobile */
  .hero-overlap {
    margin-top: -260px;
  }

  @media (max-width: 768px) {
    .hero-overlap { margin-top: 0; padding-top: 6px; }
  }

  /* Bottom navigation for mobile only */
  .bottom-nav{ display:none }

  /* Responsive rules */
  @media (max-width: 780px){
    .hero-banner{ padding-bottom:28px }
    .hero-topbar{ box-shadow:none; padding:0; }
    .hero-search-wrap{ margin-top:10px }
    .cards-stage{ margin:-8px auto 24px; max-width:380px; padding:0 12px }
    .bottom-nav{ display:block; position:fixed; left:0; right:0; bottom:0; z-index:1000; background:var(--md-sys-color-surface); padding:8px 10px; border-top:1px solid var(--md-sys-color-outline-variant) }
  }

  /* Additional mobile niceties: prevent content from touching edges, keep bottom-nav visible */
  @media (max-width:780px){
    .hero-search{ max-width:100%; padding:0 12px }
    .mobile-only{ padding:12px; box-sizing:border-box }
    .hero-search-wrap{ margin-top:18px } /* small extra spacing for topbar */
    /* ensure main area doesn't allow horizontal scrolling on narrow devices */
    .min-h-screen{ padding-bottom:84px } /* reserve space for fixed bottom nav */
    .brand-fab{ display:none } /* hide left brand on mobile to avoid overlap */
    .access-fab{ right:12px } /* ensure accessibility fab stays visible */
  }

  /* Cards should be white and appear above the banner. GroupCard component
    may set background; this provides a consistent default. */
  .cards-stage .card, .cards-stage .group-card{ background:var(--md-sys-color-surface) }

  /* Grid inside group cards: on large screens show items side-by-side while
    keeping a comfortable min width; on narrow screens fall back to single column. */
  .group-items-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap:12px }
  @media (max-width:980px){ .group-items-grid{ grid-template-columns: 1fr } }

  /* Brand button pinned to the left edge (matches floating accessibility icon style) */
  .brand-fab{
    position:fixed; top:12px; left:12px; z-index:1100;
    display:inline-flex; align-items:center; gap:10px; padding:8px 10px; border-radius:12px;
    background: transparent; color:var(--md-sys-color-on-primary-container); text-decoration:none; box-shadow:none;
  }

  /* Accessibility floating button pinned to the right edge */
  .access-fab{
    position:fixed; top:12px; right:12px; z-index:1100;
    display:inline-flex; align-items:center; gap:8px; padding:8px 10px; border-radius:12px;
    background: transparent; color:var(--md-sys-color-on-primary-container); box-shadow:none;
  }

  /* Ensure group cards stretch to the full cards-stage width so edges align with the searchbar */
  .cards-stage .group-card{ width:100%; box-sizing:border-box }

  /* Helpers to toggle desktop vs mobile-only blocks */
  .mobile-only{ display:none }
  .desktop-only{ display:block }
  @media (max-width:780px){
    .mobile-only{ display:block }
    .desktop-only{ display:none }
    /* On mobile we hide the large hero/banner so the previous compact layout is used */
    .hero-banner{ display:none }
    /* ensure cards stage behaves nicely when hero is hidden */
    .cards-stage{ margin:0 auto 24px }
  }

  /* Empty state banner used on MyFridges page. Uses theme tokens so it
     adapts to accessibility modes (high-contrast, color-blind, large text) */
  .empty-banner{
    display:flex; align-items:center; gap:12px;
    padding:18px; border-radius:12px;
    background: var(--md-sys-color-primary-container);
    color: var(--md-sys-color-on-primary-container);
  }
  .empty-banner-icon{
    width:84px; height:84px; border-radius:12px; display:grid; place-items:center;
    font-size:36px; background: color-mix(in oklab, var(--md-sys-color-primary-container) 85%, var(--md-sys-color-surface) 15%);
    color: var(--md-sys-color-on-primary-container);
  }
  /* Use the primary-container text tokens so the banner adapts to HC modes */
  .empty-banner-title{ font-weight:700; color: var(--md-sys-color-on-primary-container) }
  .empty-banner-desc{ color: var(--md-sys-color-on-primary-container); opacity:.9 }

  /* Let the add-fridge icon use an accessibility-aware accent when available */
  .add-fridge-icon{
    width:44px; height:44px; border-radius:10px;
    background: var(--a11y-icon-bg, var(--md-sys-color-primary));
    display:grid; place-items:center; font-size:22px; color:var(--a11y-icon-on, var(--md-sys-color-on-primary)); font-weight:800;
  }
}

/*
  NOTE: component styles were intentionally removed in favor of Tailwind
  utility classes. Keep this file minimal (tokens + base) so components
  use utilities directly for a cleaner codebase.
*/

/* Ensure cards use the surface token so accessibility modes can change them
   by updating --md-sys-color-surface on the root. This replaces the previous
   hardcoded white so High Contrast Dark/Light modes remain effective. */
.detail-card, .hero-overlap .card, .cards-stage .card, .card {
  background-color: var(--md-sys-color-surface) !important;
  background: var(--md-sys-color-surface) !important;
  background-image: none !important;
  -webkit-backdrop-filter: none !important;
  backdrop-filter: none !important;
  opacity: 1 !important;
}

